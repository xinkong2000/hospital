{"remainingRequest":"/Users/xinkong2000/work/vue/hospital/node_modules/babel-loader/lib/index.js!/Users/xinkong2000/work/vue/hospital/node_modules/cache-loader/dist/cjs.js??ref--0-0!/Users/xinkong2000/work/vue/hospital/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/xinkong2000/work/vue/hospital/src/components/Header.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/xinkong2000/work/vue/hospital/src/components/Header.vue","mtime":1567314936587},{"path":"/Users/xinkong2000/work/vue/hospital/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/xinkong2000/work/vue/hospital/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/Users/xinkong2000/work/vue/hospital/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/xinkong2000/work/vue/hospital/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":["import \"core-js/modules/es6.function.name\";\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\nimport { patient, doctor, payment } from \"./patients_data.js\";\nexport default {\n  name: 'headers',\n  data: function data() {\n    return {\n      doctor: doctor,\n      patient: patient,\n      payment: payment,\n      data: {\n        scan: [],\n        finished: [],\n        wait: patient,\n        current: {}\n      },\n      patients: [{\n        label: '等待就医',\n        options: [{\n          value: '4',\n          label: '张三 男 32'\n        }, {\n          value: '5',\n          label: '李四 女 28'\n        }]\n      }, {\n        label: '等待检查',\n        options: [{\n          value: '3',\n          label: '王五 男 24'\n        }]\n      }, {\n        label: '已完成',\n        options: [{\n          value: '1',\n          label: '赵六 女 41'\n        }, {\n          value: '2',\n          label: '马先生 男 52'\n        }]\n      }],\n      value: '',\n      dialogFormVisible: false,\n      form: {\n        name: '',\n        region: '',\n        date1: '',\n        date2: '',\n        delivery: false,\n        type: [],\n        resource: '',\n        desc: ''\n      },\n      formLabelWidth: '80px'\n    };\n  },\n  methods: {\n    handlePatient: function handlePatient() {\n      this.patients = [{\n        label: '等待就医',\n        options: []\n      }, {\n        label: '等待检查',\n        options: []\n      }, {\n        label: '已完成',\n        options: []\n      }];\n\n      for (var i in this.data) {\n        for (var x in this.data[i]) {\n          var d = {\n            value: this.data[i][x].id,\n            label: this.data[i][x].name + ' ' + this.data[i][x].age + ' ' + this.handleGender(this.data[i][x].gender)\n          };\n\n          switch (i) {\n            case 'finished':\n              this.patients[2].options.push(d);\n              break;\n\n            case 'wait':\n              this.patients[0].options.push(d);\n              break;\n\n            case 'scan':\n              this.patients[1].options.push(d);\n              break;\n          }\n        }\n      }\n\n      if (this.patients[0].options.length > 0) this.value = this.patients[0].options[0].value;\n    },\n    handleGender: function handleGender(gender_index) {\n      switch (gender_index) {\n        case 1:\n          return '男';\n          break;\n\n        case 2:\n          return '女';\n          break;\n\n        default:\n          return '';\n      }\n    },\n    next: function next() {\n      this.data.current = this.data.wait[0];\n      this.dialogFormVisible = true;\n    },\n    changePatient: function changePatient(e) {\n      if (e != \"\") {\n        var d = {};\n\n        for (var i in this.patient) {\n          if (this.patient[i].id == e) {\n            d = this.patient[i]; // break;\n          }\n        } // this.$set(this.data, \"current\", this.patient[i]);\n        // // 如果还不行，加一行代码强制渲染(因数据层次太多，无法渲染)\n        // this.$forceUpdate();\n\n\n        for (var _i in d) {\n          this.$set(this.data.current, _i, d[_i]);\n          this.$forceUpdate();\n        }\n\n        console.log(this.data.current);\n      }\n    },\n    diagnose: function diagnose() {\n      this.dialogFormVisible = false;\n      this.$emit('handlePatient', this.data.current);\n    }\n  },\n  mounted: function mounted() {\n    this.handlePatient();\n  }\n};",{"version":3,"sources":["Header.vue"],"names":[],"mappings":"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","sourcesContent":["<template>\n    <header>\n        <div class=\"header\">\n            <div class=\"com\">\n                <div class=\"patient\">\n                    等待就医：{{ this.data.wait.length }}/{{ this.patient.length }}\n                </div>\n                <div class=\"patient\">\n                    化验/检查中：{{ this.data.scan.length }}\n                </div>\n                <div class=\"patient-list\">\n                    下一位：\n                    <el-select v-model=\"value\" placeholder=\"无\" class=\"patients\">\n                        <el-option-group v-for=\"group in patients\" :key=\"group.label\" :label=\"group.label\">\n                            <el-option v-for=\"item in group.options\" :key=\"item.value\" :label=\"item.label\" :value=\"item.value\">\n                            </el-option>\n                        </el-option-group>\n                    </el-select>\n                </div>\n                <div>\n                    <p>\n                        <el-button type=\"primary\" size=\"medium\" @click=\"next\" round>下一位</el-button>\n                    </p>\n                </div>\n            </div>\n            <div>\n            \t<div class=\"office\" style=\"margin-right: 20px;\">科室：{{ doctor.office }} </div>\n                <div class=\"doctor\">医师：{{ doctor.name }} <i class=\"icon el-icon-arrow-down\"></i></div>\n                <div class=\"set\" title=\"设置\"><i class=\"icon el-icon-s-tools\"></i></div>\n            </div>\n        </div>\n        <el-dialog title=\"下一位\" :visible.sync=\"dialogFormVisible\">\n            <el-form :model=\"data.current\" label-width=\"80px\">\n                <el-form-item label=\"门诊编号\" class=\"dan\">\n                    <el-input v-model=\"data.current.id\" @change=\"changePatient\"></el-input>\n                </el-form-item>\n                <div style=\"display:flex\">\n                    <el-form-item label=\"姓名\">\n                        <el-input v-model=\"data.current.name\"></el-input>\n                    </el-form-item>\n                    <el-form-item label=\"年龄\">\n                        <el-input v-model=\"data.current.age\"></el-input>\n                    </el-form-item>\n                </div>\n                <div style=\"display:flex\">\n                    <el-form-item label=\"性别\">\n                        <el-input v-model=\"data.current.gender\"></el-input>\n                    </el-form-item>\n                    <el-form-item label=\"生日\">\n                        <el-input v-model=\"data.current.birthday\"></el-input>\n                    </el-form-item>\n                </div>\n                <div style=\"display:flex\">\n                    <el-form-item label=\"婚史\">\n                        <el-radio v-model=\"data.current.marriage\" label=\"1\">已婚</el-radio>\n                        <el-radio v-model=\"data.current.marriage\" label=\"2\">未婚</el-radio>\n                    </el-form-item>\n                    <el-form-item label=\"电话\">\n                        <el-input v-model=\"data.current.mobile\"></el-input>\n                    </el-form-item>\n                </div>\n                <el-form-item label=\"现住址\" class='dan'>\n                    <el-input v-model=\"data.current.address\"></el-input>\n                </el-form-item>\n                <el-form-item label=\"交费方式\">\n                    <el-select v-model=\"data.current.payment\" placeholder=\"请选择\">\n                        <el-option v-for=\"item in payment\" :key=\"item.value\" :label=\"item.label\" :value=\"item.value\">\n                        </el-option>\n                    </el-select>\n                </el-form-item>\n            </el-form>\n            <div slot=\"footer\" class=\"dialog-footer\">\n                <el-button @click=\"dialogFormVisible = false\">取 消</el-button>\n                <el-button type=\"primary\" @click=\"diagnose\">确 定</el-button>\n            </div>\n        </el-dialog>\n    </header>\n</template>\n<script type=\"text/javascript\">\nimport { patient, doctor, payment } from './patients_data.js';\nexport default {\n    name: 'headers',\n    data() {\n        return {\n            doctor: doctor,\n            patient: patient,\n            payment: payment,\n            data: {\n                scan: [],\n                finished: [],\n                wait: patient,\n                current: {},\n            },\n            patients: [{\n                label: '等待就医',\n                options: [{\n                    value: '4',\n                    label: '张三 男 32'\n                }, {\n                    value: '5',\n                    label: '李四 女 28'\n                }]\n            }, {\n                label: '等待检查',\n                options: [{\n                    value: '3',\n                    label: '王五 男 24'\n                }]\n            }, {\n                label: '已完成',\n                options: [{\n                    value: '1',\n                    label: '赵六 女 41'\n                }, {\n                    value: '2',\n                    label: '马先生 男 52'\n                }]\n            }],\n            value: '',\n            dialogFormVisible: false,\n            form: {\n                name: '',\n                region: '',\n                date1: '',\n                date2: '',\n                delivery: false,\n                type: [],\n                resource: '',\n                desc: ''\n            },\n            formLabelWidth: '80px'\n        }\n    },\n    methods: {\n        handlePatient() {\n\n            this.patients = [{\n                label: '等待就医',\n                options: []\n            }, {\n                label: '等待检查',\n                options: []\n            }, {\n                label: '已完成',\n                options: []\n            }];\n\n            for (let i in this.data) {\n                for (let x in this.data[i]) {\n                    const d = {\n                        value: this.data[i][x].id,\n                        label: this.data[i][x].name + ' ' + this.data[i][x].age + ' ' + this.handleGender(this.data[i][x].gender)\n                    }\n\n                    switch (i) {\n                        case 'finished':\n                            this.patients[2].options.push(d);\n                            break;\n\n                        case 'wait':\n                            this.patients[0].options.push(d);\n                            break;\n\n                        case 'scan':\n                            this.patients[1].options.push(d);\n                            break;\n                    }\n                }\n            }\n\n            if (this.patients[0].options.length > 0)\n                this.value = this.patients[0].options[0].value;\n        },\n\n        handleGender(gender_index) {\n            switch (gender_index) {\n                case 1:\n                    return '男';\n                    break;\n\n                case 2:\n                    return '女';\n                    break;\n\n                default:\n                    return '';\n            }\n        },\n\n        next() {\n            this.data.current = this.data.wait[0];\n            this.dialogFormVisible = true;\n        },\n\n        changePatient(e) {\n            if (e != \"\") {\n                let d = {};\n                for (let i in this.patient) {\n                    if (this.patient[i].id == e) {\n                        d = this.patient[i];\n\n                        // break;\n                    }\n                }\n                // this.$set(this.data, \"current\", this.patient[i]);\n                // // 如果还不行，加一行代码强制渲染(因数据层次太多，无法渲染)\n                // this.$forceUpdate();\n                for(let i in d){\n                \tthis.$set(this.data.current, i, d[i]);\n                \tthis.$forceUpdate();\n                }\n                console.log(this.data.current)\n                \n            }\n        },\n\n        diagnose(){\n        \tthis.dialogFormVisible = false;\n        \tthis.$emit('handlePatient', this.data.current);\n        }\n    },\n    mounted() {\n        this.handlePatient();\n    },\n    /*computed: {\n    \tnewCurrent(){\n    \t\treturn this.data.current;\n    \t}\n    },\n    watch: {\n    \tnewCurrent(v){\n    \t\tconsole.log(v)\n    \t\tthis.$forceUpdate();\n    \t}\n    }*/\n}\n</script>\n<style type=\"text/css\">\n.header {\n    height: 50px;\n    line-height: 50px;\n    background-color: #fff;\n    border-bottom: 1px solid #999;\n    padding: 0 20px;\n    display: flex;\n}\n\n.header .com {\n    flex: 1;\n    display: flex;\n}\n\n.header .com div {\n    margin-right: 20px;\n}\n\n.header div {\n    display: flex;\n}\n\n.header .icon::before {\n    line-height: 50px;\n    margin-left: 10px;\n}\n\n.header .icon {\n    margin-left: 10px;\n}\n\n.header .patients input {\n    height: 34px;\n    /*border:none;*/\n}\n\n.header .el-button {\n    line-height: 9px;\n    margin-top: -4px;\n    display: block;\n}\n\nheader .el-dialog__body {\n    margin-right: 20px;\n}\n\nheader .el-form-item {\n    flex: 1;\n}\n</style>"],"sourceRoot":"src/components"}]}